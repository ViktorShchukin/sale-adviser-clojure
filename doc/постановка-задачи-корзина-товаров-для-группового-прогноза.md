# План реализации функции "корзина товаров" для группового предсказания

## Общие предложения

### Бэк

- корзинв реализуется как отдельная таблица в бд
- управление корзиной происходить через REST API сервера
-  

### Фронт

- корзина товаров выглядить как отдельная страница приложения, 
которая отображает состояние корзины в бд для ползователя
- товары в корзину добавляются из страницы поиска товаров(__SearchProduct__)
нажатием кнопки на товаре
- Удаление товара из корзины реализыется на странице корзины
через кнопку на товаре 
- На странице корзины есть кнопка для полной отчистки корзины
- На странице корзины есть кнопка для группового прогноза всех товаров 
в корзине 
- Должна быть реализована возможность редактирования полученных прогнозов
для отдельных товаров
- Должна быть реализована возможность экспорта группового прогноза в виде
файла. todo обсудить формат экспортируемого файла

## Реализация 

### БД

Первый шаг для реализации корзины - это организовать миграцию базы данных.
Корзину реализовать как кортеж в отдельной таблице. После чего 
организовать связь корзин как многое-ко-многому с таблицей продуктов. 
Структура таблиц:
```agsl
CREATE TABLE IF NOT EXIST product_groups (
    id UUID NOT NULL,
    creation_date DATE NOT NULL,
    name VARCHAR NOT NULL, 

    CONSTRAINT product_groups_pk PRIMARY KEY (id),
    CONSTRAINT product_groups_unique UNIQUE (name)
); 

CREATE TABLE IF NOT EXIST product_and_groups (
    product_id UUID NOT NULL,
    group_id UUID NOT NULL,

    CONSTRAINT product_and_groups_product_id_fk FOREING KEY (product_id) REFERENCES product (id),
    CONSTRAINT product_and_groups_group_id_fk FOREING KEY (group_id) REFERENCES product_groups (id),
    CONSTRAINT product_and_groups_pk PRIMARY KEY (product_id, group_id)
)
```

### Бэк 

Реализовать следующие точки REST API: 

| hhtp method        | path                                            | verb                                                  |  
|:-------------------|:------------------------------------------------|:------------------------------------------------------|
| for groups         |
| GET                | /dictionary/group/                              | all-groups-of-product                                 |  
| GET                | /dictionary/group/:group-id                     | group-of-product-by-id                                |  
| POST               | /dictionary/group/                              | create-new-group-of-product                           |  
| PUT                | /dictionary/group/:group-id                     | update-group-of-product                               |  
| DELETE             | /dictionary/group/:group-id                     | delete-group-of-product-by-id                         |  
| for product in group| 
| GET                | /dictionary/group/:group-id/product             | all-product-of-group-by-group-id                      |  
| GET                | /dictionary/group/:group-id/product/:product-id | product-by-group-id-product-id                        |  
| POST               | /dictionary/group/:group-id/product/product-id  | insert-product-in-group                               |  
| PUT                |                                                 | update-product-in-group -- need to be not implemented |  
| DELETE             | /dictionary/group/:group-id/product/:product-id | delete-product-in-group                               |  

### Фронт 

Разделение страницы пополам. В одной половине поиск, в другой  

### Сценарии использования 

Разжеление страниицы пополам. В одной половине 

#### 1. Создание и наполнение новой корзины
- Оператор переходит на страницу с корзинами
- Нажимает на кнопку создать новую корзину (корзина становиться активной)
- Оператор переходит на страницу поиска товаров 
- Находит нужный товар и напротив наименования товара нажимает кнопку добавить в карзину
- Повторяет предыдущее действие нужное кол-во раз
- После равершения формирования корзины оператор переходит на страницу корзин
- Нажимает кнопку управления
- Закрывает корзину

#### 

#### 3. Создание групповога прогноза
- Оператор переходит на страницу с корзинами 
- Нажимает кнопку управления корзинами 
- Выберает нужную ему корзину (корзина становиться активной)
- Оператор нажимает кнопку создать групповой прогноз 
- Редактирует прогноз, если требуется 
- Импортирует прогноз если требуется 
- Оператор нажимает кнопку управления корзин 
- Закрывает активную корзину 

#### 4. Удаление корзин 
- Оператор переходит на страницу с корзинами
- Выберает нужную корзину 
- Нажимает кнопку удалить корзину 
- 